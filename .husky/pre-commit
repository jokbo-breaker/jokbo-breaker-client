#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# ìŠ¤í…Œì´ì§€ëœ JS/JSX/JSON íŒŒì¼ë§Œ ê²€ì‚¬
STAGED_FILES="$(git diff --staged --name-only --diff-filter=ACMR | grep -E '\.(js|jsx|json)$' || true)"

[ -z "$STAGED_FILES" ] && exit 0

echo "ğŸ”§ Biome: auto-fix"
pnpm biome check --write $STAGED_FILES || true

# ìˆ˜ì •ëœ íŒŒì¼ ë‹¤ì‹œ ìŠ¤í…Œì´ì§•
git add $STAGED_FILES

echo "ğŸ” Biome: verify"
pnpm biome check $STAGED_FILES
